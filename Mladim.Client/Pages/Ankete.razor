@page "/survey/{activityId:int}"

@using Mladim.Client.Components.Anketa;
@using Mladim.Client.ViewModels.Survey;
@using Mladim.Domain.Enums;
@using Mladim.Domain.Extensions;

@layout SurveyLayout

<PageTitle>Anketa</PageTitle>


<MudGrid>
    <MudItem>
        <MudImage Src="logo.png" Class="d-flex align-center justify-center mud-width-full"></MudImage>
    </MudItem>
    <MudItem>
        <MudText Typo="Typo.h2" Color="Color.Tertiary">@($"Prošnja za povratno informacijo o aktivnosti {Activity?.Attributes.Name}.")</MudText>
        <MudText Typo="Typo.h1" Color="Color.Tertiary">To povabilo si dobil/-a zaradi tvoje udeležbe na omenjeni aktivnosti. Tvoje povratne informacije so namenjene bodočim izboljšavam podobnih aktivnosti, ki jih organizacija izvaja. Vsi podatki so anonimni, osebnih informacij ne zbiramo. Najlepša hvala!</MudText>
    </MudItem>
    <MudItem>
        @if (isSurveyActive)
        {
            foreach(var survey in Survey)
            {
                if (survey.Questions.Type == SurveyQuestionType.Text)
                {
                    <TextQuestion Question="@survey.Questions" SurveryResponse="@(survey.SurveyResponseVM as SurveryTextResponseVM)"></TextQuestion>
                }
                else if (survey.Questions.Type == SurveyQuestionType.Rating)
                {
                    <RatingQuestion Question="@survey.Questions" SurveryResponse="@(survey.SurveyResponseVM as SurveryRatingResponseVM)"></RatingQuestion>
                }
                else if (survey.Questions.Type == SurveyQuestionType.Boolean)
                {
                    <BooleanQuestion Question="@survey.Questions" SurveryResponse="@(survey.SurveyResponseVM as SurveryBooleanResponseVM)"></BooleanQuestion>
                }
                else if (survey.Questions.Type == SurveyQuestionType.Multiple)
                {
                    <MultipleButtonQuestions Question="@survey.Questions" SurveryResponse="@(survey.SurveyResponseVM as SurveryMultipleResponseVM)"></MultipleButtonQuestions>
                }
            }
        }
        else
        {
            <SurveyAnonymousParticipant AnonymousButton="OnClickAnonymousParticipant"></SurveyAnonymousParticipant>
        }
    </MudItem>
</MudGrid>




