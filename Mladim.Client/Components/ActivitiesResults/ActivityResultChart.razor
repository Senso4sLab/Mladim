@using Mladim.Client.ViewModels.Survey;
@using Syncfusion.Blazor.Charts

 
<MudGrid>
    <MudItem xl="4" sm="6">
        <MudPaper Outlined="true">
            <SfAccumulationChart Title="Razporeditev udeležencev po letih" EnableAnimation="true" EnableSmartLabels="true" CustomClass="custom-row">
                <AccumulationChartTitleStyle FontFamily="Poppins" FontWeight="400" Size="0.9rem" Color="#6e7191" />
                    <AccumulationChartSeriesCollection>
                    <AccumulationChartSeries DataSource="@ageDoughnut" PointColorMapping="Fill" XName="Name" YName="Value" InnerRadius="80%">
                            <AccumulationDataLabelSettings Visible="true" Name="Text" Position="AccumulationLabelPosition.Outside" >
                                    <AccumulationChartDataLabelFont FontFamily="Poppins" FontWeight="400" Size="0.9rem" Color="#6e7191" />
                            </AccumulationDataLabelSettings>
                        </AccumulationChartSeries>
                    </AccumulationChartSeriesCollection>
                    <AccumulationChartLegendSettings Visible="true" Alignment="Alignment.Near" Position="LegendPosition.Right">
                        <AccumulationChartLegendFont FontFamily="Poppins" FontWeight="400" Size="0.8rem" Color="#6e7191" />
                    </AccumulationChartLegendSettings>
            </SfAccumulationChart>
        </MudPaper>
    </MudItem>
    <MudItem xl ="4" sm="6">
        <MudPaper Outlined="true">
            <SfAccumulationChart Title="Razporeditev udeležencev po spolu" EnableAnimation="true" EnableSmartLabels="true">
                <AccumulationChartTitleStyle FontFamily="Poppins" FontWeight="400" Size="0.9rem" Color="#6e7191"/>
                    <AccumulationChartSeriesCollection>
                    <AccumulationChartSeries DataSource="@genderDoughnut" PointColorMapping="Fill" XName="Name" YName="Value" InnerRadius="80%">
                        <AccumulationDataLabelSettings Visible="true" Name="Text" Position="AccumulationLabelPosition.Outside">
                                <AccumulationChartDataLabelFont FontFamily="Poppins" FontWeight="400" Size="0.9rem" Color="#6e7191" />
                            </AccumulationDataLabelSettings>
                        </AccumulationChartSeries>
                    </AccumulationChartSeriesCollection>
                    <AccumulationChartLegendSettings Visible="true" Alignment="Alignment.Near" Position="LegendPosition.Right">
                            <AccumulationChartLegendFont FontFamily="Poppins" FontWeight="400" Size="0.8rem" Color="#6e7191" />
                    </AccumulationChartLegendSettings>
            </SfAccumulationChart>
        </MudPaper>
    </MudItem>

    @foreach(var responsesGroup in SurveyResponsesGroupByQuestions)
    {
        @if(responsesGroup is SurveyBoleanResponsesGroupedByQuestion boleanResponse)
        {
            <BoleanResponseChart Response="boleanResponse"/>
        }
        else if (responsesGroup is SurveyRatingResponsesGroupedByQuestion ratingResponse)
        {
            <RatingReponseChart Response="ratingResponse"/>
        }
        else if (responsesGroup is SurveyButtonGroupResponsesGroupedByQuestion buttonResponse)
        {
            <ButtonGroupReponseChart Response="buttonResponse"/>
        }
        else if(responsesGroup is SurveyTextResponsesGroupedByQuestion textReponse)
        {

        }
    }    

</MudGrid>       
