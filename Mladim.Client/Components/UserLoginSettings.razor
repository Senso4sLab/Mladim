@inject IAuthService AuthService
@inject NavigationManager Navigation

 
<AuthorizeView>
    <Authorized>
        <MudText Typo="Typo.h6">Zdravo, @context.User.FindFirst(System.Security.Claims.ClaimTypes.Name).Value!</MudText>
        <MudMenu Class="px-3" Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit">
            <MudMenuItem OnClick="UserSettings">Moji podatki</MudMenuItem>
            <MudMenuItem OnClick="LogoutAsync">Izpis</MudMenuItem>
        </MudMenu>
    </Authorized>
</AuthorizeView>


@code 
{
    private async Task LogoutAsync()
    {
        await AuthService.LogoutAsync();
        this.Navigation.NavigateTo("/login");
    }

    private void UserSettings()
    {
        this.Navigation.NavigateTo("/userprofile");
    }
}
